{% extends 'base.html' %}

{% block title %}
My Profile
{% endblock title %}

{% block content %}
<!--MODAL-->
<div class="ui modal custommod">
    <i class="close icon"></i>
    <div class="header">
      Update Profile
    </div>
    <div class="image content">
      <div class="ui medium image">
        <img src="{{profile.profile_pic.url}}">
      </div>
      <div class="description">
        <div class="ui header">Update Your Profile Details</div>
        <form action="" method="POST" class="ui form" enctype="multipart/form-data">
            {% csrf_token %}
            {{form.as_p}}
            <!--<button type="submit" class="ui purple button">Update Profile</button>-->
        
      </div>
    </div>
    <div class="actions">
      <!--<button type="submit" class="ui positive right labeled icon button">
        Done
        <i class="checkmark icon"></i>
      </button>-->
     <button type="submit" class="ui animated fade button ui purple button">
        <div class="visible content">Done</div>
        <div class="hidden content">
            <i class="checkmark icon"></i>
        </div>
    </button>
    </form>
  </div>
</div>


<div class = "ui segment">
    {% if confirm %}
        <div class="ui green message">Profile Updated!</div>
    {% endif %}
    <h3>{{request.user}}'s Profile</h3>
    <div class="ui grid">
    <div class="row">
        <div class = 'six wide column'>
            <img class = "ui small circular image" src = {{profile.profile_pic.url}}>
            <div class="row mt-5">
                <button class="ui violet button" id = 'modal-button'>Update Profile</button>
            </div>
            <!--<button class="ui ">Connections:</h3>
            <h4>{{profile.get_follow_count}}</h4>-->
        </div>
        <div class = "ten wide column">
          <table class="ui table">
            <tbody>
              <tr>
                <td>Username :</td>
                <td>{{profile.user}}</td>
              </tr>
              <tr>
                <td>Name :</td>
                <td>{{profile.first_name}} {{profile.last_name}}</td>
              </tr>
              <tr>
                <td>email :</td>
                <td>{{profile.email}}</td>
              </tr>
              <tr>
                <td>About :</td>
                <td>{{profile.about}}</td>
              </tr>
              <tr>
                <td>Field Of Interest :</td>
                <td>{{profile.field_of_interest}}</td>
              </tr>
              <tr>
                <td>Category :</td>
                <td>{{profile.category}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <button class="ui violet button" id = 'profile-modal'>Connections : {{profile.get_follow_count}}</button>
  </div>
<div class="twelve wide column">
    <h2>Posts Uploaded</h2>
    {% if count %}
        {% for post in posts %}
            <div class="ui segment fluid">
                {{post.caption}}
            </div>
        {% endfor %}
    {% else %}
        <h1>No Posts Uploaded by you yet.</h1>
    {% endif %}
</div>
{% endblock content %}